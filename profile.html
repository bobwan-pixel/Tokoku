<!-- Firebase SDK --><script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js"></script><script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js"></script><script src="js/auth-firebase.js"></script><script>
  // Inisialisasi Firebase User dari Firebase Auth
  document.addEventListener('DOMContentLoaded', function () {
    firebase.auth().onAuthStateChanged((user) => {
      if (!user) {
        alert('Anda belum login. Silakan login dulu.');
        window.location.href = 'login.html';
        return;
      }

      // Set data dasar user
      document.getElementById('userName').textContent = user.displayName || 'Pengguna Tokoku';
      document.getElementById('joinDate').textContent = formatDate(user.metadata.creationTime);
      document.getElementById('email').value = user.email;

      // Tampilkan halaman
      showContent();
      initEvents();
    });
  });

  function showContent() {
    document.getElementById('loadingScreen').style.opacity = '0';
    setTimeout(() => {
      document.getElementById('loadingScreen').style.display = 'none';
      document.getElementById('profilePage').style.display = 'block';
    }, 300);
  }

  function formatDate(dateString) {
    const options = { year: 'numeric', month: 'long', day: 'numeric' };
    return new Date(dateString).toLocaleDateString('id-ID', options);
  }

  function initEvents() {
    // Tombol logout
    document.getElementById('logoutBtn').addEventListener('click', logout);
  }
</script>